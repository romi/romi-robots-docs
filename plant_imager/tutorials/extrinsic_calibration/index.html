


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Technical documentation of the Robotics for Micro-farms project">
      
      
        <link rel="canonical" href="https://docs.romi-project.eu/plant_imager/tutorials/extrinsic_calibration/">
      
      
        <meta name="author" content="ROMI Team">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.11">
    
    
      
        <title>How to calibrate the Plant imager ? - ROMI Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.860688db.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,400,400i,700%7CUbuntu+Mono&display=fallback">
        <style>body,input{font-family:"Nunito Sans",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../assets/css/extra.css">
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#extrinsic-image-calibration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://docs.romi-project.eu/" title="ROMI Documentation" class="md-header-nav__button md-logo" aria-label="ROMI Documentation">
      
  <img src="../../../assets/images/logo.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ROMI Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              How to calibrate the Plant imager ?
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://docs.romi-project.eu/" title="ROMI Documentation" class="md-nav__button md-logo" aria-label="ROMI Documentation">
      
  <img src="../../../assets/images/logo.svg" alt="logo">

    </a>
    ROMI Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Farmers Dashboard
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Farmers Dashboard" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        <span class="md-nav__icon md-icon"></span>
        Farmers Dashboard
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1-2" type="checkbox" id="nav-1-2">
    
    <label class="md-nav__link" for="nav-1-2">
      Carrier Module
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Carrier Module" data-md-level="2">
      <label class="md-nav__title" for="nav-1-2">
        <span class="md-nav__icon md-icon"></span>
        Carrier Module
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/bot/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/structure/" title="Structure" class="md-nav__link">
      Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/motion/" title="Motion System" class="md-nav__link">
      Motion System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/electronics/" title="Electronics" class="md-nav__link">
      Electronics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/power/" title="Power" class="md-nav__link">
      Power
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/station/" title="Charging Station" class="md-nav__link">
      Charging Station
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/camera/" title="Camera Module" class="md-nav__link">
      Camera Module
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1-5" type="checkbox" id="nav-1-5">
    
    <label class="md-nav__link" for="nav-1-5">
      How to build the cablebot
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="How to build the cablebot" data-md-level="2">
      <label class="md-nav__title" for="nav-1-5">
        <span class="md-nav__icon md-icon"></span>
        How to build the cablebot
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/building/" title="Get the pieces" class="md-nav__link">
      Get the pieces
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/assembly/" title="Assembly instructions" class="md-nav__link">
      Assembly instructions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/install/" title="Install the software" class="md-nav__link">
      Install the software
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/use/" title="How to use the cablebot" class="md-nav__link">
      How to use the cablebot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/pipeline/" title="Crops Insights Pipeline" class="md-nav__link">
      Crops Insights Pipeline
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/app/" title="Farmers Dashboard App" class="md-nav__link">
      Farmers Dashboard App
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Farmers%20Dashboard/legacy/" title="Legacy" class="md-nav__link">
      Legacy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Rover
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Rover" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Rover
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Rover/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Rover/manual/" title="User Manual" class="md-nav__link">
      User Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Rover/configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Rover/hardware/" title="Hardware" class="md-nav__link">
      Hardware
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Rover/software/" title="Software" class="md-nav__link">
      Software
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Rover/librcom/" title="Librcom" class="md-nav__link">
      Librcom
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Plant Phenotyping
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Plant Phenotyping" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Plant Phenotyping
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Explanations
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Explanations" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        <span class="md-nav__icon md-icon"></span>
        Explanations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../explanations/general_design/" title="General design" class="md-nav__link">
      General design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../explanations/masks/" title="Mask" class="md-nav__link">
      Mask
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../explanations/segmentation/" title="Segmentation of images" class="md-nav__link">
      Segmentation of images
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Modules
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Modules" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        <span class="md-nav__icon md-icon"></span>
        Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-3-1" type="checkbox" id="nav-3-3-1">
    
    <label class="md-nav__link" for="nav-3-3-1">
      Plant 3D Explorer
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Plant 3D Explorer" data-md-level="3">
      <label class="md-nav__title" for="nav-3-3-1">
        <span class="md-nav__icon md-icon"></span>
        Plant 3D Explorer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../plant-3d-explorer/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../plant-3d-explorer/guide/" title="Guide" class="md-nav__link">
      Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Plant Imager v2
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Plant Imager v2" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        <span class="md-nav__icon md-icon"></span>
        Plant Imager v2
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v2/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v2/alu_frame/" title="Aluminium frame" class="md-nav__link">
      Aluminium frame
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v2/cnc_frame/" title="CNC frame" class="md-nav__link">
      CNC frame
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v2/cnc_electronics/" title="CNC electronics" class="md-nav__link">
      CNC electronics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v2/cnc_communication/" title="CNC communication" class="md-nav__link">
      CNC communication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v2/cnc_calibration/" title="CNC calibration" class="md-nav__link">
      CNC calibration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v2/gimbal_setup/" title="Gimbal assembly" class="md-nav__link">
      Gimbal assembly
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v2/gimbal_communication/" title="Gimbal communication" class="md-nav__link">
      Gimbal communication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v2/picamera_setup/" title="PiCamera setup" class="md-nav__link">
      PiCamera setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v2/troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      Plant Imager v3
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Plant Imager v3" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        <span class="md-nav__icon md-icon"></span>
        Plant Imager v3
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/alu_frame/" title="Aluminium frame" class="md-nav__link">
      Aluminium frame
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/cnc_frame/" title="CNC frame" class="md-nav__link">
      CNC frame
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/frame_cnc/" title="Frame & CNC" class="md-nav__link">
      Frame & CNC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/enclosure/" title="Enclosure" class="md-nav__link">
      Enclosure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/cnc_electronics/" title="CNC electronics" class="md-nav__link">
      CNC electronics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/flashing_oquam/" title="Flashing Oquam" class="md-nav__link">
      Flashing Oquam
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/cnc_communication/" title="CNC communication" class="md-nav__link">
      CNC communication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/pan_arm/" title="Pan Arm" class="md-nav__link">
      Pan Arm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/cnc_arm/" title="CNC & Pan Arm" class="md-nav__link">
      CNC & Pan Arm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/manual_gimbal/" title="Manual Gimball" class="md-nav__link">
      Manual Gimball
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/pan_electronics/" title="Pan electronics" class="md-nav__link">
      Pan electronics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/picamera/" title="PiCamera" class="md-nav__link">
      PiCamera
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/boms/" title="Complete BOMs" class="md-nav__link">
      Complete BOMs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../build_v3/resources/" title="Resources" class="md-nav__link">
      Resources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6">
    
    <label class="md-nav__link" for="nav-3-6">
      Software setup
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Software setup" data-md-level="2">
      <label class="md-nav__title" for="nav-3-6">
        <span class="md-nav__icon md-icon"></span>
        Software setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/create_env/" title="Create python environments" class="md-nav__link">
      Create python environments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/plantdb_setup/" title="Database setup" class="md-nav__link">
      Database setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/plant_imager_setup/" title="Plant imager software setup" class="md-nav__link">
      Plant imager software setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/virtual_plant_setup/" title="Virtual plants scanner software setup" class="md-nav__link">
      Virtual plants scanner software setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/plant_reconstruction_setup/" title="Plant reconstruction software setup" class="md-nav__link">
      Plant reconstruction software setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/plant3dexplorer_setup/" title="plant-3d-explorer software setup" class="md-nav__link">
      plant-3d-explorer software setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-7" type="checkbox" id="nav-3-7" checked>
    
    <label class="md-nav__link" for="nav-3-7">
      Tutorials
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Tutorials" data-md-level="2">
      <label class="md-nav__title" for="nav-3-7">
        <span class="md-nav__icon md-icon"></span>
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../basics/" title="How to use the romi_run_task generic command ?" class="md-nav__link">
      How to use the romi_run_task generic command ?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hardware_scan/" title="How to make an acquisition with the Plant Imager ?" class="md-nav__link">
      How to make an acquisition with the Plant Imager ?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../intrinsic_calibration/" title="How to calibrate the camera ?" class="md-nav__link">
      How to calibrate the camera ?
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        How to calibrate the Plant imager ?
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" title="How to calibrate the Plant imager ?" class="md-nav__link md-nav__link--active">
      How to calibrate the Plant imager ?
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objective" class="md-nav__link">
    Objective
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisite" class="md-nav__link">
    Prerequisite
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#principles-of-the-extrinsic-calibration-performed-here" class="md-nav__link">
    Principles of the extrinsic calibration performed here
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-tutorial" class="md-nav__link">
    Step-by-step tutorial
  </a>
  
    <nav class="md-nav" aria-label="Step-by-step tutorial">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-calibration-acquisition" class="md-nav__link">
    1. Calibration acquisition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-compute-circular-poses-from-path-lines-with-colmap" class="md-nav__link">
    2. Compute circular poses from path lines with Colmap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-reuse-the-poses-extracted-from-the-calibration-scan" class="md-nav__link">
    3. (re)Use the poses extracted from the calibration scan
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../virtual_plant_imager_single_dataset/" title="How to evaluate an analysis in a virtual world (both virtual plant and imager) ?" class="md-nav__link">
      How to evaluate an analysis in a virtual world (both virtual plant and imager) ? 
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../virtual_plant_generate_analyze_visualize/" title="How to generate, analyze and visualize virtual plant images using public docker containers" class="md-nav__link">
      How to generate, analyze and visualize virtual plant images using public docker containers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../virtual_plant_imager_large_dataset/" title="How to generate large "virtual" training data for machine-learning ?" class="md-nav__link">
      How to generate large "virtual" training data for machine-learning ?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reconstruct_scan/" title="How to reconstruct 3D data from images ?" class="md-nav__link">
      How to reconstruct 3D data from images ?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../plant-3d-explorer/" title="How to view your results with plant-3d-explorer" class="md-nav__link">
      How to view your results with plant-3d-explorer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Tutorial_sm-dtw_simulatephyllotaxis/" title="How to evaluate an phyllotaxis measurement ? (case1) Use sm-dtw with simulated data" class="md-nav__link">
      How to evaluate an phyllotaxis measurement ? (case1) Use sm-dtw with simulated data
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-8" type="checkbox" id="nav-3-8">
    
    <label class="md-nav__link" for="nav-3-8">
      How-to
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="How-to" data-md-level="2">
      <label class="md-nav__title" for="nav-3-8">
        <span class="md-nav__icon md-icon"></span>
        How-to
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../how_to/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how_to/import_files/" title="Import external resources" class="md-nav__link">
      Import external resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how_to/create_new_task/" title="Create a new task" class="md-nav__link">
      Create a new task
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how_to/create_new_evaluation_task/" title="Create a new evaluation task" class="md-nav__link">
      Create a new evaluation task
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-9" type="checkbox" id="nav-3-9">
    
    <label class="md-nav__link" for="nav-3-9">
      Specifications
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Specifications" data-md-level="2">
      <label class="md-nav__title" for="nav-3-9">
        <span class="md-nav__icon md-icon"></span>
        Specifications
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../specifications/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../specifications/data/" title="Data" class="md-nav__link">
      Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../specifications/hardware/" title="Hardware" class="md-nav__link">
      Hardware
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../specifications/virtual-plant-imager/" title="Virtual Plant Imager" class="md-nav__link">
      Virtual Plant Imager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-9-5" type="checkbox" id="nav-3-9-5">
    
    <label class="md-nav__link" for="nav-3-9-5">
      Metadata
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Metadata" data-md-level="3">
      <label class="md-nav__title" for="nav-3-9-5">
        <span class="md-nav__icon md-icon"></span>
        Metadata
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../metadata/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../metadata/biological_metadata/" title="Biological metadata" class="md-nav__link">
      Biological metadata
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../metadata/hardware_metadata/" title="Hardware metadata" class="md-nav__link">
      Hardware metadata
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../metadata/software_metadata/" title="Software metadata" class="md-nav__link">
      Software metadata
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../metadata/tasks_metadata/" title="Tasks metadata" class="md-nav__link">
      Tasks metadata
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../specifications/luigi/" title="Luigi" class="md-nav__link">
      Luigi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-9-7" type="checkbox" id="nav-3-9-7">
    
    <label class="md-nav__link" for="nav-3-9-7">
      Tasks
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Tasks" data-md-level="3">
      <label class="md-nav__title" for="nav-3-9-7">
        <span class="md-nav__icon md-icon"></span>
        Tasks
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../specifications/tasks/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../specifications/tasks/file_tasks/" title="Files tasks" class="md-nav__link">
      Files tasks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../specifications/tasks/acquisition_tasks/" title="Acquisition tasks" class="md-nav__link">
      Acquisition tasks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../specifications/tasks/reconstruction_tasks/" title="Reconstruction tasks" class="md-nav__link">
      Reconstruction tasks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../specifications/tasks/ground_truth_tasks/" title="Defining ground truth" class="md-nav__link">
      Defining ground truth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../specifications/tasks/evaluation_tasks/" title="Evaluation tasks" class="md-nav__link">
      Evaluation tasks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../specifications/pipelines/" title="Pipelines" class="md-nav__link">
      Pipelines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../specifications/configuration_files/" title="Configuration files" class="md-nav__link">
      Configuration files
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-10" type="checkbox" id="nav-3-10">
    
    <label class="md-nav__link" for="nav-3-10">
      Developer
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Developer" data-md-level="2">
      <label class="md-nav__title" for="nav-3-10">
        <span class="md-nav__icon md-icon"></span>
        Developer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer/pipeline_repeatability/" title="Pipelines repeatability" class="md-nav__link">
      Pipelines repeatability
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer/user_case_scenarios/" title="User case scenarios" class="md-nav__link">
      User case scenarios
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer/git_workflow/" title="Git Workflow" class="md-nav__link">
      Git Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer/git_submodules_workflow/" title="Git Submodules" class="md-nav__link">
      Git Submodules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer/git_docReview/" title="Contribute to docs" class="md-nav__link">
      Contribute to docs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer/tutorial_template/" title="Make a tutorial" class="md-nav__link">
      Make a tutorial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer/conda/" title="Conda" class="md-nav__link">
      Conda
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer/colmap_cli/" title="COLMAP" class="md-nav__link">
      COLMAP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-10-10" type="checkbox" id="nav-3-10-10">
    
    <label class="md-nav__link" for="nav-3-10-10">
      Docker
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Docker" data-md-level="3">
      <label class="md-nav__title" for="nav-3-10-10">
        <span class="md-nav__icon md-icon"></span>
        Docker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../docker/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../docker/plantdb_docker/" title="Database" class="md-nav__link">
      Database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../docker/plantimager_docker/" title="Plant Imager" class="md-nav__link">
      Plant Imager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../docker/virtualplantimager_docker/" title="Virtual Plant Imager" class="md-nav__link">
      Virtual Plant Imager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../docker/colmap/" title="Colmap" class="md-nav__link">
      Colmap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../docker/plant-3d-vision_docker/" title="Plant Interpreter" class="md-nav__link">
      Plant Interpreter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../docker/plant3dexplorer_docker/" title="plant-3d-explorer" class="md-nav__link">
      plant-3d-explorer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../docker/docker_compose/" title="Docker compose" class="md-nav__link">
      Docker compose
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objective" class="md-nav__link">
    Objective
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisite" class="md-nav__link">
    Prerequisite
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#principles-of-the-extrinsic-calibration-performed-here" class="md-nav__link">
    Principles of the extrinsic calibration performed here
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-tutorial" class="md-nav__link">
    Step-by-step tutorial
  </a>
  
    <nav class="md-nav" aria-label="Step-by-step tutorial">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-calibration-acquisition" class="md-nav__link">
    1. Calibration acquisition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-compute-circular-poses-from-path-lines-with-colmap" class="md-nav__link">
    2. Compute circular poses from path lines with Colmap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-reuse-the-poses-extracted-from-the-calibration-scan" class="md-nav__link">
    3. (re)Use the poses extracted from the calibration scan
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="extrinsic-image-calibration">Extrinsic Image Calibration<a class="headerlink" href="#extrinsic-image-calibration" title="Permanent link">Link</a></h1>
<h2 id="objective">Objective<a class="headerlink" href="#objective" title="Permanent link">Link</a></h2>
<p>Calibration is giving the right scale to your images and is thus crucial to perform measures from phenotyping imaging.</p>
<p>Scale (pixel size) is a priori unknown in a picture. In addition, some aspects of an hardware setup can create artefacts affecting scaling during 3D reconstruction. Hence, we developed a procedure of extrinsic calibration to scale 3D reconstructions to real world unit and correct possible artefacts induced by the configuration of our plant-imager robot.</p>
<p>In this tutorial, you will learn how to calibrate an image acquisition for downstream analysis and how to re-use a previously made calibration for an analysis, provided that the set-up is the same.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Intrinsic calibration corrects possible defects induced by the lens of the camera. These type of defects are not addressed by this procedure.</p>
</div>
<h2 id="prerequisite">Prerequisite<a class="headerlink" href="#prerequisite" title="Permanent link">Link</a></h2>
<ul>
<li>
<p>Make sure that you installed all the ROMI software to run image acquisitions with the ROMI <code>Plant Imager</code> (explanation <a href="../../install/plant_imager_setup/">here</a>)</p>
</li>
<li>
<p>install also <a href="/docs/plant_imager/modules/plant_3d_vision.md"><code>plant-3d-vision</code></a> to perform the calibration.</p>
</li>
</ul>
<p><img src="/assets/images/ext/docker_logo2.png" alt="docker_logo" width="50"> We highly recommend the use of dockers to run ROMI software. Details to build and run docker of the ROMI <code>Plant Imager</code> are <a href="https://github.com/romi/plant-imager#docker">here</a></p>
<ul>
<li>
<p>Before reading this tutorial, you should first be able to run a basic acquisition without calibration, as explained in this <a href="../hardware_scan/">tutorial</a>.</p>
</li>
<li>
<p>set up a <a href="../../specifications/data/">database</a> or quickly generate a simple database with the following commands:</p>
</li>
</ul>
<p><div class="highlight"><pre><span></span><code>mkdir path/to/db
touch path/to/db/romidb
</code></pre></div>
You have now your file-based romi database <em>plantdb</em></p>
<h2 id="principles-of-the-extrinsic-calibration-performed-here">Principles of the extrinsic calibration performed here<a class="headerlink" href="#principles-of-the-extrinsic-calibration-performed-here" title="Permanent link">Link</a></h2>
<p>The motor positions moving the camera along the acquisition path give a first indication of the scale of the picture, but this motor information is as accurate as the encoder allows them to be.</p>
<p>To have the closest scaling from reality, we use <em><a href="https://colmap.github.io/">Colmap</a></em> (a structure-from-motion algorithm) at the very beginning of the 3d reconstructions (see <a href="/docs/plant_imager/specifications/pipelines.md">here</a>): this technique allows to refine the positions of the camera given by the robot motors.
However, those computed positions are determined up to a scaling and roto-translation of the world and as a result, present a problem for measuring real world unit quantities. In addition, each camera pose is aligned with the corresponding CNC arm position. This can lead to a bias in scaling induced by the offset between the camera optical center and the CNC arm as represented in the following picture:  <br />
<img alt="Offset between camera and robotic arm" loading="lazy" src="../../../assets/images/calibration_camera_offset.png" width="600" /> </p>
<p>It is particularly true when doing circular path (which is often the case with the phenotyping station). 
Indeed, because of that offset, the distance between 2 camera poses is bigger than it should be and as a result, the reconstructed the object is bigger than it is in real life (with a relative error of 2d / D). 
To correct that, a procedure has been developed to perform an extrinsic calibration and apply the results for further image acquisitions using the same hardware settings.</p>
<h2 id="step-by-step-tutorial">Step-by-step tutorial<a class="headerlink" href="#step-by-step-tutorial" title="Permanent link">Link</a></h2>
<h3 id="1-calibration-acquisition">1. Calibration acquisition<a class="headerlink" href="#1-calibration-acquisition" title="Permanent link">Link</a></h3>
<p>Because the bias is mainly induced by making a circular path of image acquisition, one way to avoid it is to do a calibration acquisition with first a path constituted of two lines (two orthogonal lines in our case) followed by the path that will be used by other acquisitions.  </p>
<p><img alt="Calibration scan diagram" loading="lazy" src="../../../assets/images/calibration_scan_figure.png" width="600" /></p>
<p>To do so, run the task 'CalibrationScan' the same way as for a regular acquisition with the <code>romi_run_task</code> command, including your regular configuration file adapted to your plant imager (hereafter: <code>hardware.toml</code>).</p>
<p>In the command, define a folder inside your romi database (called above <code>plantdb</code>) that will store the data of this calibration acquisition:</p>
<div class="highlight"><pre><span></span><code>romi_run_task --config config/hardware.toml <span class="se">\ </span><span class="c1">#command and config</span>
CalibrationScan <span class="se">\ </span><span class="c1"># romi task</span>
/path/to/plantdb/calibration_scan_id/ <span class="c1">#data destination of this calibration scan </span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Run this command either in a docker container of the plant-imager or, if you install plant-imager in your system, do not forget to activate the appropriate virtual environment to make <code>romi_run_task</code> command accessible.</p>
</div>
<p>Colmap performance increases when several "recognizable" objects are present in the scene, so that the program easily defines matching reference points between overlapping images. We advise to put such objects in the scene for the calibration acquisition (they could be removed later)</p>
<h3 id="2-compute-circular-poses-from-path-lines-with-colmap">2. Compute circular poses from path lines with Colmap<a class="headerlink" href="#2-compute-circular-poses-from-path-lines-with-colmap" title="Permanent link">Link</a></h3>
<p>Thanks to the linear path added to the circular one, Colmap can now retrieve accurate poses with a proper scaling. Colmap can be easily run with romi software <code>plant-3d-vision</code>.</p>
<p>For such a run, a proper configuration file (.toml) is required. A <a href="https://github.com/romi/plant-3d-vision/tree/dev/config">default one</a> is provided with <code>plant-3d-vision</code>, and accessible from your local git-cloned repository or in the repository included inside the docker container.</p>
<div class="highlight"><pre><span></span><code>romi_run_task --config path/toconfig/geom_pipe_full.toml <span class="se">\ </span><span class="c1">#command and path to config file</span>
Colmap <span class="se">\ </span><span class="c1">#the task Colmap</span>
/path/to/plantdb/calibration_scan_id/ <span class="c1">#data destination folder</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Run this command either in a docker container of <code>plant-3d-vision</code> or, if you install plant-imager in your system, do not forget to activate the appropriate virtual environment to make <code>romi_run_task</code> command accessible.</p>
</div>
<h3 id="3-reuse-the-poses-extracted-from-the-calibration-scan">3. (re)Use the poses extracted from the calibration scan<a class="headerlink" href="#3-reuse-the-poses-extracted-from-the-calibration-scan" title="Permanent link">Link</a></h3>
<p>Now, the calibrated poses can be used to properly scale 3d reconstruction each time an analysis is performed (full process detailed <a href="../reconstruct_scan/">here</a>) on other image dataset.</p>
<p>To do so, just add in the <em>Colmap</em> section of the configuration <em>.toml</em> file for reconstruction:</p>
<div class="highlight"><pre><span></span><code><span class="k">[Colmap]</span>
<span class="n">calibration_scan_id</span> <span class="o">=</span> <span class="s">&quot;calibration_scan_id&quot;</span> <span class="c1">#name of the folder containing calibration data</span>
</code></pre></div>
<p><strong>Important</strong>: </p>
<div class="codehilite"><pre><span></span><code><span class="err">*   Calibration_scan_id and the other dataset to be analyzed must be in the same romi database.</span>
<span class="err">*   To be valid, calibration data can only be used if the camera position has not changed at all (tilt, etc...) in the robotic arm. For instance, a new calibration acquisition should be performed each time the camera is removed and replaced back on the arm.</span>
</code></pre></div>
                
              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>var disqus_config=function(){this.page.url="https://docs.romi-project.eu/plant_imager/tutorials/extrinsic_calibration/",this.page.identifier="plant_imager/tutorials/extrinsic_calibration/"};window.addEventListener("load",function(){var e=document,i=e.createElement("script");i.src="//romi.disqus.com/embed.js",i.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(i)})</script>

              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../intrinsic_calibration/" title="How to calibrate the camera ?" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                How to calibrate the camera ?
              </div>
            </div>
          </a>
        
        
          <a href="../virtual_plant_imager_single_dataset/" title="How to evaluate an analysis in a virtual world (both virtual plant and imager) ?" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                How to evaluate an analysis in a virtual world (both virtual plant and imager) ? 
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            CC Attribution-NonCommercial-ShareAlike 4.0 International
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://twitter.com/ROMI_EU_PROJECT" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.facebook.com/ROMIEUProject" target="_blank" rel="noopener" title="www.facebook.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://github.com/romi/" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../../..",
          features: ["navigation.tabs", "toc.integrate"],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="https://buttons.github.io/buttons.js"></script>
      
    
  </body>
</html>