
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Technical documentation of the Robotics for Micro-farms project">
      
      
        <meta name="author" content="ROMI Team">
      
      
        <link rel="canonical" href="https://docs.romi-project.eu/Farmers%20Dashboard/install/">
      
      
        <link rel="prev" href="../assembly/">
      
      
        <link rel="next" href="../use/">
      
      
      <link rel="icon" href="../../assets/images/ROMI_ICON_green.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.9">
    
    
      
        <title>Install the software - ROMI Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.f2e4d321.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Nunito Sans";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#raspberry-pi" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://romi-project.eu/" title="ROMI Documentation" class="md-header__button md-logo" aria-label="ROMI Documentation" data-md-component="logo">
      
  <img src="../../assets/images/ROMI_logo_white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ROMI Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Install the software
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  Farmers Dashboard

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Rover/" class="md-tabs__link">
          
  
  Rover

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../plant_imager/" class="md-tabs__link">
          
  
  Plant Phenotyping

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../training/" class="md-tabs__link">
          
  
  Training

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../glossary/" class="md-tabs__link">
        
  
    
  
  Glossary

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://romi-project.eu/" title="ROMI Documentation" class="md-nav__button md-logo" aria-label="ROMI Documentation" data-md-component="logo">
      
  <img src="../../assets/images/ROMI_logo_white.svg" alt="logo">

    </a>
    ROMI Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Farmers Dashboard
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Farmers Dashboard
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Carrier Module
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Carrier Module
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../motion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Motion System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../electronics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Electronics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../power/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Power
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../station/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Charging Station
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../camera/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Camera Module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" checked>
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    How to build the cablebot
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            How to build the cablebot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../building/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get the pieces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../assembly/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assembly instructions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Install the software
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Install the software
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-the-raspberry-pi-zero" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the Raspberry Pi Zero
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installing the Raspberry Pi Zero">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-the-linux-operating-system" class="md-nav__link">
    <span class="md-ellipsis">
      Install the Linux operating system
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Install the Linux operating system">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Basic configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enable-the-legacy-camera-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Enable the legacy camera interface
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-the-serial-ports" class="md-nav__link">
    <span class="md-ellipsis">
      Configure the serial ports
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-user-romi" class="md-nav__link">
    <span class="md-ellipsis">
      Create user romi
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-compile-and-install-the-software" class="md-nav__link">
    <span class="md-ellipsis">
      Clone, compile, and install the software
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-the-apache-web-server" class="md-nav__link">
    <span class="md-ellipsis">
      Install the Apache web server
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-the-software-on-boot" class="md-nav__link">
    <span class="md-ellipsis">
      Starting the software on boot
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extra-overlayfs" class="md-nav__link">
    <span class="md-ellipsis">
      Extra: OverlayFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Extra: OverlayFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#raspbian" class="md-nav__link">
    <span class="md-ellipsis">
      Raspbian
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archlinux" class="md-nav__link">
    <span class="md-ellipsis">
      Archlinux
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Archlinux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-raspi-overlayroot" class="md-nav__link">
    <span class="md-ellipsis">
      Install Raspi-Overlayroot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-overlayroot-hook" class="md-nav__link">
    <span class="md-ellipsis">
      Enable overlayroot hook
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-overlayroot-in-commandline" class="md-nav__link">
    <span class="md-ellipsis">
      Enable overlayroot in commandline
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-filesystems-readonly" class="md-nav__link">
    <span class="md-ellipsis">
      Set filesystems readonly
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#editing-the-root-filesystem" class="md-nav__link">
    <span class="md-ellipsis">
      Editing the root filesystem
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extra-romi-autossh" class="md-nav__link">
    <span class="md-ellipsis">
      Extra: Romi autossh
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Extra: Romi autossh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#client-side-romi-device" class="md-nav__link">
    <span class="md-ellipsis">
      Client side (Romi device)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Client side (Romi device)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-a-rsa-key-withouth-passphrase" class="md-nav__link">
    <span class="md-ellipsis">
      Generate a rsa key (withouth passphrase)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy-your-key-to-the-server-to-allow-passwordless-access" class="md-nav__link">
    <span class="md-ellipsis">
      Copy your key to the server to allow passwordless access.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-a-reverse-ssh-tunnel" class="md-nav__link">
    <span class="md-ellipsis">
      Test a reverse SSH tunnel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-autossh" class="md-nav__link">
    <span class="md-ellipsis">
      Install autossh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-autossh-reverse-tunneling" class="md-nav__link">
    <span class="md-ellipsis">
      Test autossh reverse tunneling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-autossh-on-boot-with-systemd" class="md-nav__link">
    <span class="md-ellipsis">
      Starting autossh on boot with systemd
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-side" class="md-nav__link">
    <span class="md-ellipsis">
      Server side
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Server side">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#no-password-logins-optional" class="md-nav__link">
    <span class="md-ellipsis">
      No Password logins (optional)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restrict-client-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Restrict client commands
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-side-user-computer" class="md-nav__link">
    <span class="md-ellipsis">
      Client side (user computer)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Client side (user computer)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-and-copy-rsa-key" class="md-nav__link">
    <span class="md-ellipsis">
      Generate and copy RSA key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-connection-with-ssh-config-file" class="md-nav__link">
    <span class="md-ellipsis">
      Setup connection with ssh config file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to use the cablebot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Crops Insights Pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Farmers Dashboard App
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../legacy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wirebot
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Rover
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Rover
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Rover/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Rover/manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Manual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Rover/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Rover/hardware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hardware
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Rover/software/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Rover/librcom/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rcom
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plant Phenotyping
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Plant Phenotyping
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Explanations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Explanations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/explanations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/explanations/general_design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/explanations/strengths_limits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Strengths & limitations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/explanations/geometric_workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Geometric workflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/explanations/ml_workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Machine-learning workflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/explanations/task_masks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mask
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/explanations/task_segmentation2d/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image segmentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Modules
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://romi.github.io/plantdb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PlantDB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_3_2" id="__nav_3_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plant 3D Explorer
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_2">
            <span class="md-nav__icon md-icon"></span>
            Plant 3D Explorer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant-3d-explorer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant-3d-explorer/guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guide
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plant Imager v2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Plant Imager v2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v2/alu_frame/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aluminium frame
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v2/cnc_frame/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CNC frame
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v2/cnc_electronics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CNC electronics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v2/cnc_communication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CNC communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v2/cnc_calibration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CNC calibration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v2/gimbal_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gimbal assembly
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v2/gimbal_communication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gimbal communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v2/picamera_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PiCamera setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v2/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plant Imager v3
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Plant Imager v3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/alu_frame/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aluminium frame
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/cnc_frame/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CNC frame
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/frame_cnc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frame & CNC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/enclosure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enclosure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/cnc_electronics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CNC electronics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/flashing_oquam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flashing Oquam
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/cnc_communication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CNC communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/pan_arm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pan Arm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/cnc_arm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CNC & Pan Arm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/manual_gimbal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manual Gimball
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/pan_electronics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pan electronics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/picamera/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PiCamera
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/comm_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Communication overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/flash_rpi_os/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flashing RPi OS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/picamera_soft/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PiCamera OS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/plantimager_controller/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Main controller
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/registry_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Registry setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/boms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Complete BOMs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/build_v3/resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resources
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software setup
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Software setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/install/create_env/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python environments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/install/plantdb_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/install/plant_imager_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plant Imager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/install/virtual_plant_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual Plant Scanner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/install/plant_reconstruction_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plant reconstruction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/install/plant3dexplorer_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plant 3D Explorer
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/tutorials/basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/tutorials/hardware_scan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plant Imager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/tutorials/intrinsic_calibration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intrinsic calibration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/tutorials/extrinsic_calibration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extrinsic calibration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/tutorials/multi_scan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multiple scans
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/tutorials/virtual_plant_imager_single_dataset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual world
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/tutorials/virtual_plant_generate_analyze_visualize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual plant images
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/tutorials/virtual_plant_imager_large_dataset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Training data for ML
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/tutorials/reconstruct_scan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reconstruct 3D data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/tutorials/plant-3d-explorer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Explore your data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/tutorials/tutorial_sm-dtw_simulatephyllotaxis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SM-DTW with simulated data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/tutorials/robustness_evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Robustness evaluation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    How-to
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            How-to
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/how_to/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../assets/notebooks/HowTo%20-Colmap-%20From%20RGB%20images%20to%20camera%20poses.ipynb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Colmap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../assets/notebooks/HowTo%20-Undistorted-%20Undistort%20RGB%20images%20using%20camera%20model.ipynb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Undistorted
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../assets/notebooks/HowTo%20-Masks-%20From%20RGB%20images%20to%20masks.ipynb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Masks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../assets/notebooks/HowTo%20-Voxels-%20From%20mask%20images%20and%20camera%20coordinates%20to%20volume.ipynb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Voxels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../assets/notebooks/HowTo%20-PointCloud-%20From%20carved%20volume%20to%20point%20cloud.ipynb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PointCloud
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../assets/notebooks/HowTo%20-TriangleMesh-%20From%20point%20cloud%20to%20triangular%20mesh.ipynb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TriangleMesh
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../assets/notebooks/HowTo%20-CurveSkeleton-%20From%20triangular%20mesh%20to%20curved%20skeleton.ipynb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CurveSkeleton
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../assets/notebooks/HowTo%20-TreeGraph-%20From%20curved%20skeleton%20to%20tree%20graph.ipynb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TreeGraph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../assets/notebooks/HowTo%20-AnglesAndInternodes-%20Extract%20fruits%20angles%20and%20internodes%20distance%20from%20a%20tree%20graph.ipynb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AnglesAndInternodes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9" >
        
          
          <label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Specifications
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            Specifications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/specifications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/specifications/data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/specifications/hardware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hardware
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/specifications/virtual-plant-imager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual Plant Imager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9_5" >
        
          
          <label class="md-nav__link" for="__nav_3_9_5" id="__nav_3_9_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Metadata
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_9_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9_5">
            <span class="md-nav__icon md-icon"></span>
            Metadata
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/metadata/biological_metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Biological metadata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/metadata/hardware_metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hardware metadata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/metadata/software_metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software metadata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/metadata/tasks_metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tasks metadata
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/specifications/luigi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Luigi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9_7" >
        
          
          <label class="md-nav__link" for="__nav_3_9_7" id="__nav_3_9_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tasks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_9_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9_7">
            <span class="md-nav__icon md-icon"></span>
            Tasks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/specifications/tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/specifications/tasks/file_tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files tasks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/specifications/tasks/acquisition_tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Acquisition tasks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/specifications/tasks/reconstruction_tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reconstruction tasks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/specifications/tasks/ground_truth_tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Defining ground truth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/specifications/tasks/evaluation_tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluation tasks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/specifications/pipelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipelines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/specifications/configuration_files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration files
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" >
        
          
          <label class="md-nav__link" for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            Developer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/pipeline_repeatability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipelines repeatability
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/user_case_scenarios/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User case scenarios
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/git_workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git Workflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/git_submodules_workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git Submodules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/git_docReview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contribute to docs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/tutorial_template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Make a tutorial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/conda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conda
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/colmap_cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    COLMAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/vpi_reference_api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VPI API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_11" >
        
          
          <label class="md-nav__link" for="__nav_3_10_11" id="__nav_3_10_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    How-to
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_10_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_11">
            <span class="md-nav__icon md-icon"></span>
            How-to
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/how_to/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/how_to/import_files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Import external resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/how_to/create_new_task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a new task
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/developer/how_to/create_new_evaluation_task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a new evaluation task
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10_12" >
        
          
          <label class="md-nav__link" for="__nav_3_10_12" id="__nav_3_10_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Docker
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_10_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10_12">
            <span class="md-nav__icon md-icon"></span>
            Docker
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/docker/plantdb_docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/docker/plantimager_docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plant Imager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/docker/virtualplantimager_docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual Plant Imager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/docker/colmap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Colmap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/docker/plant-3d-vision_docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plant 3D Vision
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/docker/plant3dexplorer_docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plant 3D Explorer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plant_imager/docker/docker_compose/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker compose
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Training
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Training
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../training/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../training/lpy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LPy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../training/ippn_2023/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IPPN Angers 2023
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-the-raspberry-pi-zero" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the Raspberry Pi Zero
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installing the Raspberry Pi Zero">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-the-linux-operating-system" class="md-nav__link">
    <span class="md-ellipsis">
      Install the Linux operating system
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Install the Linux operating system">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Basic configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enable-the-legacy-camera-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Enable the legacy camera interface
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-the-serial-ports" class="md-nav__link">
    <span class="md-ellipsis">
      Configure the serial ports
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-user-romi" class="md-nav__link">
    <span class="md-ellipsis">
      Create user romi
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-compile-and-install-the-software" class="md-nav__link">
    <span class="md-ellipsis">
      Clone, compile, and install the software
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-the-apache-web-server" class="md-nav__link">
    <span class="md-ellipsis">
      Install the Apache web server
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-the-software-on-boot" class="md-nav__link">
    <span class="md-ellipsis">
      Starting the software on boot
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extra-overlayfs" class="md-nav__link">
    <span class="md-ellipsis">
      Extra: OverlayFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Extra: OverlayFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#raspbian" class="md-nav__link">
    <span class="md-ellipsis">
      Raspbian
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archlinux" class="md-nav__link">
    <span class="md-ellipsis">
      Archlinux
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Archlinux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-raspi-overlayroot" class="md-nav__link">
    <span class="md-ellipsis">
      Install Raspi-Overlayroot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-overlayroot-hook" class="md-nav__link">
    <span class="md-ellipsis">
      Enable overlayroot hook
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-overlayroot-in-commandline" class="md-nav__link">
    <span class="md-ellipsis">
      Enable overlayroot in commandline
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-filesystems-readonly" class="md-nav__link">
    <span class="md-ellipsis">
      Set filesystems readonly
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#editing-the-root-filesystem" class="md-nav__link">
    <span class="md-ellipsis">
      Editing the root filesystem
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extra-romi-autossh" class="md-nav__link">
    <span class="md-ellipsis">
      Extra: Romi autossh
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Extra: Romi autossh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#client-side-romi-device" class="md-nav__link">
    <span class="md-ellipsis">
      Client side (Romi device)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Client side (Romi device)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-a-rsa-key-withouth-passphrase" class="md-nav__link">
    <span class="md-ellipsis">
      Generate a rsa key (withouth passphrase)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy-your-key-to-the-server-to-allow-passwordless-access" class="md-nav__link">
    <span class="md-ellipsis">
      Copy your key to the server to allow passwordless access.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-a-reverse-ssh-tunnel" class="md-nav__link">
    <span class="md-ellipsis">
      Test a reverse SSH tunnel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-autossh" class="md-nav__link">
    <span class="md-ellipsis">
      Install autossh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-autossh-reverse-tunneling" class="md-nav__link">
    <span class="md-ellipsis">
      Test autossh reverse tunneling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-autossh-on-boot-with-systemd" class="md-nav__link">
    <span class="md-ellipsis">
      Starting autossh on boot with systemd
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-side" class="md-nav__link">
    <span class="md-ellipsis">
      Server side
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Server side">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#no-password-logins-optional" class="md-nav__link">
    <span class="md-ellipsis">
      No Password logins (optional)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restrict-client-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Restrict client commands
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-side-user-computer" class="md-nav__link">
    <span class="md-ellipsis">
      Client side (user computer)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Client side (user computer)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-and-copy-rsa-key" class="md-nav__link">
    <span class="md-ellipsis">
      Generate and copy RSA key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-connection-with-ssh-config-file" class="md-nav__link">
    <span class="md-ellipsis">
      Setup connection with ssh config file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="raspberry-pi">Raspberry Pi<a class="headerlink" href="#raspberry-pi" title="Permanent link">Link</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">Link</a></h2>
<p>The software for the Cablebot consists of three components:</p>
<ol>
<li>The main software running on the Raspberry Pi Zero of the camera module. This is a combination of GNU/Linux and the ROMI software, found at <a href="https://github.com/romi/romi-rover-build-and-test">https://github.com/romi/romi-rover-build-and-test</a> </li>
<li>The firmware for the motor controller, found at <a href="https://github.com/romi/romi-cablebot/tree/camera-integration">https://github.com/romi/romi-cablebot/tree/camera-integration</a></li>
<li>The firmware to control the panning of the camera, found at <a href="https://github.com/romi/libromi/tree/ci_dev/firmware/BLDC">https://github.com/romi/libromi/tree/ci_dev/firmware/BLDC</a></li>
</ol>
<p>In addition, the installation requires the following actions on the Raspberry Pi Zero:</p>
<ol>
<li>Create the "romi" user account.</li>
<li>Configure the Wi-Fi to connect to an existing Wi-Fi</li>
<li>Enable the SSH server</li>
<li>Enable the legacy camera interface.</li>
<li>Configure the serial ports.</li>
<li>Configure the start-up scripts.</li>
<li>Install and configure the Apache HTTP server for the web interface.</li>
<li>Configure the backup/transfer of the images.</li>
</ol>
<h2 id="installing-the-raspberry-pi-zero">Installing the Raspberry Pi Zero<a class="headerlink" href="#installing-the-raspberry-pi-zero" title="Permanent link">Link</a></h2>
<h3 id="install-the-linux-operating-system">Install the Linux operating system<a class="headerlink" href="#install-the-linux-operating-system" title="Permanent link">Link</a></h3>
<p><img alt="" src="/assets/images/farmersDashboard/rpiZ-08.png" /></p>
<p>Download <a href="https://www.raspberrypi.org/downloads/raspberry-pi-os/">Raspberry Pi OS (32-bit) Lite</a> and burn the image to a sdcard of at least 8GB.
To avid connecting the Pi to a monitor you can follow the instructions to set up <a href="https://www.raspberrypi.org/documentation/configuration/wireless/headless.md">WiFi</a> and <a href="https://www.raspberrypi.org/documentation/remote-access/ssh/README.md">ssh</a> (scroll down to number 3) for a headless setup.</p>
<p>Once your Pi is connected to the network and you're logged via ssh as <em>pi</em> user there are some simple tasks to do:</p>
<ul>
<li>
<p>For security reasons it is recommended that you change the pasword of default user <em>pi</em>
<div class="highlight"><pre><span></span><code>pi@raspberry:~<span class="w"> </span>$<span class="w"> </span>passwd
</code></pre></div></p>
</li>
<li>
<p>Update packages.
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>upgrade
</code></pre></div></p>
</li>
</ul>
<h4 id="basic-configuration">Basic configuration<a class="headerlink" href="#basic-configuration" title="Permanent link">Link</a></h4>
<p>Run the <code>sudo raspi-config</code> command to change the base configuration:</p>
<p><strong>Keyboard</strong>:</p>
<p>If you need you can change keyboard, WLAN country and timezone
settings using raspi-config. Run <code>raspi-config</code> command and select
<code>5 Localization Options</code>.</p>
<p><strong>Hostname</strong>:</p>
<p>Still in raspi-config,</p>
<ol>
<li>Select <code>System Options</code></li>
<li>Select <code>S4 Hostname</code></li>
<li>Question: <code>Please enter a hostname</code>: Enter <code>cablebot</code></li>
<li>Select <code>OK</code></li>
</ol>
<p><strong>Wifi</strong>:</p>
<p>In raspi-config,</p>
<ol>
<li>Select <code>1 System Options</code> </li>
<li>Select <code>S1 Wireless LAN</code></li>
<li>Question: <code>Please enter SSID</code> Type the name of the WiFi network you want to connect to.</li>
<li>Question: <code>Please enter passphrase. Leave it empty if none.</code> Type the password.</li>
<li>Click <code>OK</code></li>
</ol>
<p><strong>SSH</strong>:</p>
<p>In raspi-config,</p>
<ol>
<li>Select <code>3 Interface Option</code> </li>
<li>Select <code>I2 SSH</code></li>
<li>Question: <code>Would you like the SSH server to be enabled?</code> Select <code>Yes</code></li>
</ol>
<p>Make sure to test the remote login. To know the IP address of the Pi, run the following command:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ip<span class="w"> </span>a
<span class="m">1</span>:<span class="w"> </span>lo:<span class="w"> </span>&lt;LOOPBACK,UP,LOWER_UP&gt;<span class="w"> </span>mtu<span class="w"> </span><span class="m">65536</span><span class="w"> </span>qdisc<span class="w"> </span>noqueue<span class="w"> </span>state<span class="w"> </span>UNKNOWN<span class="w"> </span>group<span class="w"> </span>default<span class="w"> </span>qlen<span class="w"> </span><span class="m">1000</span>
<span class="w">    </span>link/loopback<span class="w"> </span><span class="m">00</span>:00:00:00:00:00<span class="w"> </span>brd<span class="w"> </span><span class="m">00</span>:00:00:00:00:00
<span class="w">    </span>inet<span class="w"> </span><span class="m">127</span>.0.0.1/8<span class="w"> </span>scope<span class="w"> </span>host<span class="w"> </span>lo
<span class="w">       </span>valid_lft<span class="w"> </span>forever<span class="w"> </span>preferred_lft<span class="w"> </span>forever
<span class="w">    </span>inet6<span class="w"> </span>::1/128<span class="w"> </span>scope<span class="w"> </span>host<span class="w"> </span>
<span class="w">       </span>valid_lft<span class="w"> </span>forever<span class="w"> </span>preferred_lft<span class="w"> </span>forever
<span class="m">2</span>:<span class="w"> </span>eth0:<span class="w"> </span>&lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt;<span class="w"> </span>mtu<span class="w"> </span><span class="m">1500</span><span class="w"> </span>qdisc<span class="w"> </span>mq<span class="w"> </span>state<span class="w"> </span>DOWN<span class="w"> </span>group<span class="w"> </span>default<span class="w"> </span>qlen<span class="w"> </span><span class="m">1000</span>
<span class="w">    </span>link/ether<span class="w"> </span>e4:5f:01:93:b6:a3<span class="w"> </span>brd<span class="w"> </span>ff:ff:ff:ff:ff:ff
<span class="m">3</span>:<span class="w"> </span>wlan0:<span class="w"> </span>&lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;<span class="w"> </span>mtu<span class="w"> </span><span class="m">1500</span><span class="w"> </span>qdisc<span class="w"> </span>pfifo_fast<span class="w"> </span>state<span class="w"> </span>UP<span class="w"> </span>group<span class="w"> </span>default<span class="w"> </span>qlen<span class="w"> </span><span class="m">1000</span>
<span class="w">    </span>link/ether<span class="w"> </span>e4:5f:01:93:b6:a7<span class="w"> </span>brd<span class="w"> </span>ff:ff:ff:ff:ff:ff
<span class="w">    </span>inet<span class="w"> </span><span class="m">172</span>.20.10.12/28<span class="w"> </span>brd<span class="w"> </span><span class="m">172</span>.20.10.15<span class="w"> </span>scope<span class="w"> </span>global<span class="w"> </span>dynamic<span class="w"> </span>noprefixroute<span class="w"> </span>wlan0
<span class="w">       </span>valid_lft<span class="w"> </span>86163sec<span class="w"> </span>preferred_lft<span class="w"> </span>75363sec
<span class="w">    </span>inet6<span class="w"> </span>2a02:8440:3141:50b1:d111:5312:d516:8327/64<span class="w"> </span>scope<span class="w"> </span>global<span class="w"> </span>mngtmpaddr<span class="w"> </span>noprefixroute<span class="w"> </span>
<span class="w">       </span>valid_lft<span class="w"> </span>forever<span class="w"> </span>preferred_lft<span class="w"> </span>forever
<span class="w">    </span>inet6<span class="w"> </span>fe80::1577:9a8:248f:7648/64<span class="w"> </span>scope<span class="w"> </span>link<span class="w"> </span>
<span class="w">       </span>valid_lft<span class="w"> </span>forever<span class="w"> </span>preferred_lft<span class="w"> </span>forever
</code></pre></div>
<p>The IP address of the WiFi interface can be found in the wlan0 section. In our case, it is 172.20.10.12. Now try to log in from a remote machine on the same network:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ssh<span class="w"> </span>romi@&lt;IP-ADDRESS&gt;
</code></pre></div>
<p>Replace IP-ADDRESS with the address found using <code>ip a</code>. Make sure that this work before continuing because further down we are going the deactivate the login console on the screen.</p>
<h2 id="enable-the-legacy-camera-interface">Enable the legacy camera interface<a class="headerlink" href="#enable-the-legacy-camera-interface" title="Permanent link">Link</a></h2>
<p>On newer version of the OS image, the legacy interface has to be activated manually. This can be done using raspi-config:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>raspi-config
</code></pre></div>
<ol>
<li>Select <em>3 Interface Options</em></li>
<li>Select <em>I1 Legacy Camera</em></li>
<li>Select <em>Yes</em></li>
<li>Reboot</li>
</ol>
<h2 id="configure-the-serial-ports">Configure the serial ports<a class="headerlink" href="#configure-the-serial-ports" title="Permanent link">Link</a></h2>
<p>The Raspberry Pi Zero W has one "real" serial controller, called UART0 or PL011, and one more limited serial controller, called UART1 or mini UART.</p>
<p>(The list of pins on the 40-pin GPIO header can be found here: <a href="https://pinout.xyz/">https://pinout.xyz/</a>)
(See also the Raspberry Pi documentation: <a href="https://www.raspberrypi.com/documentation/computers/configuration.html#configuring-uarts">https://www.raspberrypi.com/documentation/computers/configuration.html#configuring-uarts</a>)</p>
<p>By default, the Raspberry Pi is configured as follows:</p>
<ul>
<li>UART0 is used to communicate with the Bluetooth controller. It is mapped to /dev/ttyAMA0.</li>
<li>UART1 is used for the Linux console. By default, the mini UART is mapped to the pin 8 (GPIO 14) for TX, and pin 10 (GPIO 15) for RX. The serial device is mapped to /dev/ttyS0.</li>
</ul>
<p>The GPIO pins 14 and 15 are used for the "primary" serial. By default, UART1 is the primary serial. </p>
<p>For the Cablebot, we want to change this as follows:</p>
<ul>
<li>UART0 connects the motor controller on GPIO pins 14 and 15 (pins 8 and 10)</li>
</ul>
<p>Disabling Bluetooth will make UART0 available again.  </p>
<p>In /boot/config.txt, add the following line at the end of the file (after [all]):</p>
<div class="highlight"><pre><span></span><code>dtoverlay=disable-bt
</code></pre></div>
<p>This disables the Bluetooth kernel module.</p>
<p>Then, disable the console on the serial port. In /boot/cmdline.txt, remove:</p>
<div class="highlight"><pre><span></span><code>console=serial0,11520
</code></pre></div>
<p>In a terminal, run the following command to disables the modem and Bluetooth services of the OS:
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span>disable<span class="w"> </span>hciuart.service
sudo<span class="w"> </span>systemctl<span class="w"> </span>disable<span class="w"> </span>bluealsa.service
sudo<span class="w"> </span>systemctl<span class="w"> </span>disable<span class="w"> </span>bluetooth.service
</code></pre></div></p>
<p>And reboot:
<div class="highlight"><pre><span></span><code>sudo reboot
</code></pre></div></p>
<p>After these changes, UART0 will be the primary serial and connected to GPIO pins 14 and 15. </p>
<p>It does not seem possible to have both serial active and available in GPIO pins. This is because both UART0 and UART1 are (hard)wired to GPIO pins 14 and 15...</p>
<p>Alternatively (to be tested):</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>raspi-config
</code></pre></div>
<ol>
<li>Select <em>3 Interface Options</em></li>
<li>Select <em>I6 Serial Port</em></li>
<li>Question: <em>Would you like a login shell to be accessible over serial?</em> Select <em>No</em></li>
<li>Question: <em>Would you like the serial port hardware to be enabled?</em> Select  <em>Yes</em></li>
</ol>
<p>The confirmation dialog should display:</p>
<div class="highlight"><pre><span></span><code>The serial login shell is disabled
The serial interface is enabled
</code></pre></div>
<h2 id="create-user-romi">Create user romi<a class="headerlink" href="#create-user-romi" title="Permanent link">Link</a></h2>
<p>Create user romi, set password and add it to needed groups.
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>useradd<span class="w"> </span>romi
sudo<span class="w"> </span>usermod<span class="w"> </span>-a<span class="w"> </span>-G<span class="w"> </span>sudo,adm,dialout,video,netdev,plugdev,gpio<span class="w"> </span>romi
</code></pre></div></p>
<p>Quit the current shell and reconnect using the "romi" login.</p>
<h2 id="clone-compile-and-install-the-software">Clone, compile, and install the software<a class="headerlink" href="#clone-compile-and-install-the-software" title="Permanent link">Link</a></h2>
<p>As user "romi" do:</p>
<p>For the main software:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>--branch<span class="w"> </span>ci_dev<span class="w"> </span>--recurse-submodules<span class="w"> </span>https://github.com/romi/romi-rover-build-and-test.git
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>romi-rover-build-and-test
$<span class="w"> </span>mkdir<span class="w"> </span>build
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>build
$<span class="w"> </span>cmake<span class="w"> </span>..
$<span class="w"> </span>make<span class="w"> </span>rcom-registry
$<span class="w"> </span>make<span class="w"> </span>romi-cablebot
</code></pre></div>
<p>For the firmware of the motor controller:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~
$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/romi/romi-cablebot.git
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>romi-cablebot
$<span class="w"> </span>TODO
</code></pre></div>
<p>For the firmware of the camera pan controller:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>TODO
</code></pre></div>
<h2 id="install-the-apache-web-server">Install the Apache web server<a class="headerlink" href="#install-the-apache-web-server" title="Permanent link">Link</a></h2>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>apache2
$<span class="w"> </span>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/apache2/sites-enabled/000-default.conf
</code></pre></div>
<p>Change <code>DocumentRoot</code> in <code>/etc/apache2/sites-enabled/000-default.conf</code> to <code>/home/romi/romi-rover-build-and-test/applications/romi-monitor/</code></p>
<p>Also add:
<div class="highlight"><pre><span></span><code><span class="w">        </span>&lt;Directory<span class="w"> </span>/home/romi/romi-rover-build-and-test/applications/romi-monitor/&gt;
<span class="w">                   </span>Options<span class="w"> </span>Indexes
<span class="w">                   </span>AllowOverride<span class="w"> </span>None
<span class="w">                   </span>Require<span class="w"> </span>all<span class="w"> </span>granted
<span class="w">        </span>&lt;/Directory&gt;
</code></pre></div>
Then restart the <code>apache2.service</code> with <code>systemctl</code>:
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>apache2.service
</code></pre></div></p>
<h2 id="starting-the-software-on-boot">Starting the software on boot<a class="headerlink" href="#starting-the-software-on-boot" title="Permanent link">Link</a></h2>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/rc.local
</code></pre></div>
<div class="highlight"><pre><span></span><code>#!/bin/sh -e
#
# rc.local
#
# This script is executed at the end of each multiuser runlevel.
# Make sure that the script will &quot;exit 0&quot; on success or any other
# value on error.
#
# In order to enable or disable this script just change the execution
# bits.
#
# By default this script does nothing.

# Print the IP address
_IP=$(hostname -I) || true
if [ &quot;$_IP&quot; ]; then
  printf &quot;My IP address is %s\n&quot; &quot;$_IP&quot;
fi

sudo -u romi /home/romi/romi-rover-build-and-test/build/bin/rcom-registry &amp;

exit 0
</code></pre></div>
<h2 id="extra-overlayfs">Extra: OverlayFS<a class="headerlink" href="#extra-overlayfs" title="Permanent link">Link</a></h2>
<p>To avoid file system corruption on Raspberry Pi's that can have their power interrupted suddenly, having a read-only file system it's a good option.</p>
<blockquote>
<p>In computing, OverlayFS is a union mount filesystem implementation for Linux. It combines multiple different underlying mount points into one, resulting in single directory structure that contains underlying files and sub-directories from all sources. Common applications overlay a read/write partition over a read-only partition, such as with LiveCDs and IoT devices with limited flash memory write cycles. <a href="https://en.wikipedia.org/wiki/OverlayFS">Wikipedia</a></p>
</blockquote>
<p>When using OverlayFS no filesystem change will survive reboot, that means no bash history!</p>
<h3 id="raspbian">Raspbian<a class="headerlink" href="#raspbian" title="Permanent link">Link</a></h3>
<p>In raspbian you can run <code>raspi-config</code> and under <em>Advanced Options</em> you will find Overlay FS option:</p>
<p><img alt="" src="https://i.imgur.com/PuDUhuG.png" /></p>
<p>Just enable it and set boot partition to read only (raspi-config will ask you for this) and reboot. You can revert this changes with the same procedure.</p>
<h3 id="archlinux">Archlinux<a class="headerlink" href="#archlinux" title="Permanent link">Link</a></h3>
<h4 id="install-raspi-overlayroot">Install Raspi-Overlayroot<a class="headerlink" href="#install-raspi-overlayroot" title="Permanent link">Link</a></h4>
<p><div class="highlight"><pre><span></span><code>git clone https://github.com/nils-werner/raspi-overlayroot
cd raspi-overlayroot
makepkg -si
</code></pre></div>
Then try rebooting, it should boot as normal.</p>
<h4 id="enable-overlayroot-hook">Enable overlayroot hook<a class="headerlink" href="#enable-overlayroot-hook" title="Permanent link">Link</a></h4>
<p>Then in <code>/etc/mkinitcpio.conf</code></p>
<ol>
<li>add <code>overlay</code> to your <code>MODULES</code> array</li>
<li>add <code>overlayroot</code> to your <code>HOOKS</code> array</li>
</ol>
<p>and rebuild the initramfs by running
<div class="highlight"><pre><span></span><code>mkinitcpio -P
</code></pre></div>
and reboot. It should boot as normal.</p>
<h4 id="enable-overlayroot-in-commandline">Enable overlayroot in commandline<a class="headerlink" href="#enable-overlayroot-in-commandline" title="Permanent link">Link</a></h4>
<p>With the initramfs in place, you can now enable overlayroot by adding <code>overlayroot</code> to the end of the Kernel commandline, editing <code>/boot/cmdline.txt</code></p>
<p><div class="highlight"><pre><span></span><code>root=/dev/mmcblk0p2 rw rootwait console=ttyAMA0,115200 console=tty1 selinux=0 plymouth.enable=0 smsc95xx.turbo_mode=N dwc_otg.lpm_enable=0 kgdboc=ttyAMA0,115200 elevator=noop overlayroot
</code></pre></div>
and reboot. You should see a warning during login that any changes you make to your filesystem will be non-persistent after this point.</p>
<h3 id="set-filesystems-readonly">Set filesystems readonly<a class="headerlink" href="#set-filesystems-readonly" title="Permanent link">Link</a></h3>
<p>You can now also set the entire root filesystem as readonly by changing <code>rw</code> to <code>ro</code> in the Kernel commandline
<div class="highlight"><pre><span></span><code>root=/dev/mmcblk0p2 ro rootwait console=ttyAMA0,115200 console=tty1 selinux=0 plymouth.enable=0 smsc95xx.turbo_mode=N dwc_otg.lpm_enable=0 kgdboc=ttyAMA0,115200 elevator=noop overlayroot
</code></pre></div>
and adding <code>ro</code> to <code>/etc/fstab</code>
<div class="highlight"><pre><span></span><code>#
# /etc/fstab: static file system information
#
# &lt;file system&gt; &lt;dir&gt;   &lt;type&gt;  &lt;options&gt;   &lt;dump&gt;  &lt;pass&gt;
/dev/mmcblk0p1  /boot   vfat    defaults,ro     0       0
</code></pre></div></p>
<h3 id="editing-the-root-filesystem">Editing the root filesystem<a class="headerlink" href="#editing-the-root-filesystem" title="Permanent link">Link</a></h3>
<p>You can run <code>rwrootfs</code> to remount all file systems as read-write and change into an interactive shell in your SD card file system. After exiting that shell, the fileystems will remain read-write until next reboot.</p>
<p>Alternatively you can undo all changes from Enable overlayroot in commandline and Set filesystems readonly and reboot. This is the recommended way of system upgrades.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Resources
* <a href="https://github.com/nils-werner/raspi-overlayroot">https://github.com/nils-werner/raspi-overlayroot</a><br />
* <a href="https://wiki.archlinux.org/title/Overlay_filesystem">https://wiki.archlinux.org/title/Overlay_filesystem</a>  </p>
</div>
<h2 id="extra-romi-autossh">Extra: Romi autossh<a class="headerlink" href="#extra-romi-autossh" title="Permanent link">Link</a></h2>
<p>Locating a Romi device (ej. cablebot) on a network can be a dificult task depending on the network topology. Services like Dataplicity can solve this problem but have some disatvantages as not being free software, cost, vendor lock, etc.</p>
<p>Having a server accesible via a public IP address is enough to make this work. Maintaining a persistent SSH reverse tunnel with autoSSH between the Romi device and the server will allow us to access the device from anywhere without knowing his IP address.</p>
<h3 id="client-side-romi-device">Client side (Romi device)<a class="headerlink" href="#client-side-romi-device" title="Permanent link">Link</a></h3>
<h4 id="generate-a-rsa-key-withouth-passphrase">Generate a rsa key (withouth passphrase)<a class="headerlink" href="#generate-a-rsa-key-withouth-passphrase" title="Permanent link">Link</a></h4>
<div class="highlight"><pre><span></span><code>ssh-keygen
</code></pre></div>
<h4 id="copy-your-key-to-the-server-to-allow-passwordless-access">Copy your key to the server to allow passwordless access.<a class="headerlink" href="#copy-your-key-to-the-server-to-allow-passwordless-access" title="Permanent link">Link</a></h4>
<p>The user must exist already on the server, we recomend creating a specific user for this task.
<div class="highlight"><pre><span></span><code>ssh-copy-id user@server
</code></pre></div></p>
<h4 id="test-a-reverse-ssh-tunnel">Test a reverse SSH tunnel<a class="headerlink" href="#test-a-reverse-ssh-tunnel" title="Permanent link">Link</a></h4>
<p>Select a specific port for each of the devices to use on the <em>port-s:localhost:22</em> part of the command, so that port number (<em>port-s</em>) of the server will be linked to port 22 on the device.
<div class="highlight"><pre><span></span><code>ssh -R port-s:localhost:22 [-p srv-ssh-port] user@server-with-public-ip
</code></pre></div>
Now try to log in from another computer with:
<div class="highlight"><pre><span></span><code>ssh -J user@server -p port-s user@localhost
</code></pre></div></p>
<p>If that worked we can now setup the autossh to make the conection on boot and keep it alive.</p>
<h4 id="install-autossh">Install autossh<a class="headerlink" href="#install-autossh" title="Permanent link">Link</a></h4>
<p>Depending on your linux package manager, ej. <code>sudo pacman -S autossh</code> or <code>sudo apt install autossh</code></p>
<h4 id="test-autossh-reverse-tunneling">Test autossh reverse tunneling<a class="headerlink" href="#test-autossh-reverse-tunneling" title="Permanent link">Link</a></h4>
<div class="highlight"><pre><span></span><code>autossh -M 0 -f -o &quot;ServerAliveInterval 45&quot; -o &quot;ServerAliveCountMax 2&quot; -N -R port-s:localhost:22 [-p srv-ssh-port] user@server-with-public-ip
</code></pre></div>
<p>Options:</p>
<blockquote>
<p><strong>-M</strong> Specifies monitor port. May be overridden by environment variable AUTOSSH_PORT. 0 turns monitoring loop off.
<strong>-f</strong> Run in background (autossh handles this, and does not pass it to ssh.)
<strong>-N</strong> Do not execute a remote command.  This is useful for just forwarding ports.
<strong>-R [bind_address:]port:host:hostport</strong> Specifies that connections to the given TCP port or Unix socket on the remote (server) host are to be forwarded to the local side.</p>
</blockquote>
<p>From the autossh manual page: </p>
<blockquote>
<p>Setting the monitor port to 0 turns the monitoring function off, and autossh will only restart ssh upon ssh's exit. For example, if you are using a recent version of OpenSSH, you may wish to explore using the <strong>ServerAliveInterval</strong> and <strong>ServerAliveCountMax</strong> options to have the SSH client exit if it finds itself no longer connected to the server. In many ways this may be a better solution than the monitoring port.</p>
</blockquote>
<p>So we are using <em>ServerAliveInterval</em>:</p>
<blockquote>
<p>Sets a timeout interval in seconds after which if no data has been received from the server, ssh(1) will send a message through the encrypted channel to request a response from the server.</p>
</blockquote>
<p>and <em>ServerAliveCountMax</em>:</p>
<blockquote>
<p>Sets the number of server alive messages (see below) which may be sent without ssh(1) receiving any messages back from the server.  If this threshold is reached while server alive messages are being sent, ssh will disconnect from the server, terminating the session.</p>
</blockquote>
<p>that means that after 45 seconds ssh by itself will try to communicate with the server, if it fails will try again in 45 more seconds and after two failures it will terminate the session, in wich case autossh will restart the connection.</p>
<h4 id="starting-autossh-on-boot-with-systemd">Starting autossh on boot with systemd<a class="headerlink" href="#starting-autossh-on-boot-with-systemd" title="Permanent link">Link</a></h4>
<p>Create a new file <code>/etc/systemd/system/autossh.service</code> and add this to it, remember to set your port (<em>port-s</em>):</p>
<div class="highlight"><pre><span></span><code>[Unit]
Description=AutoSSH service for port port-s
After=network.target

[Service]
User=user
Environment=&quot;AUTOSSH_GATETIME=0&quot;
ExecStart=/usr/bin/autossh -M 0 -o ControlMaster=no -o &quot;ServerAliveInterval 45&quot; -o &quot;ServerAliveCountMax 2&quot; -N -i ~/.ssh/id_rsa -R port-s:localhost:22 [-p srv-ssh-port] user@server-with-public-ip

[Install]
WantedBy=multi-user.target
</code></pre></div>
<p>Now enable and start the service:</p>
<div class="highlight"><pre><span></span><code>sudo systemctl enable autossh
sudo systemctl start autossh
</code></pre></div>
<p>From now autossh will be started at boot time and will keep the tunnel alive.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Only tested on Arch Linux.</p>
</div>
<h3 id="server-side">Server side<a class="headerlink" href="#server-side" title="Permanent link">Link</a></h3>
<p>The simplest way is using the same user in the server and the clients, so if you haven't already created the user, do it.</p>
<h4 id="no-password-logins-optional">No Password logins (optional)<a class="headerlink" href="#no-password-logins-optional" title="Permanent link">Link</a></h4>
<p>For extra security you can disable password login, only allowing logins with keys:</p>
<p><div class="highlight"><pre><span></span><code>sudo vi /etc/ssh/sshd_config
</code></pre></div>
To do it system wide change <code>PasswordAuthentication yes</code> to <code>PasswordAuthentication no</code>.</p>
<p>Or if you want to restrict password logins only for a specific user (eg. romi) comment the previous line: <code>#PasswordAuthentication no</code> and add this content to the file:</p>
<div class="highlight"><pre><span></span><code>Match User user(romi)
    PasswordAuthentication no
</code></pre></div>
<p>The inconvenience of this approach is that every time you want to add a new key (give rights to a new device) you will need to change this temporarily to allow password logins. Remember that after changing the <code>sshd_config</code> file you need to restart the service with <code>systemctl restart sshd</code>. </p>
<h4 id="restrict-client-commands">Restrict client commands<a class="headerlink" href="#restrict-client-commands" title="Permanent link">Link</a></h4>
<p>To avoid security risks in case a key on a romi-device has been compromised, we are going to restrict the commands that the client is able to execute to the minimal.</p>
<p>This can be achieved by editing ~/.ssh/authorized_keys, by prefixing the desired key, e.g. as follows:
<div class="highlight"><pre><span></span><code>command=&quot;&quot; ssh-rsa 
</code></pre></div></p>
<p>This will allow any login with this specific key only to execute the command specified between the quotes, none in this example.</p>
<h3 id="client-side-user-computer">Client side (user computer)<a class="headerlink" href="#client-side-user-computer" title="Permanent link">Link</a></h3>
<h4 id="generate-and-copy-rsa-key">Generate and copy RSA key<a class="headerlink" href="#generate-and-copy-rsa-key" title="Permanent link">Link</a></h4>
<p>If you haven't generated your ssh key do it with the <code>ssh-keygen</code> command and copy this key to the server and the romi device.</p>
<h4 id="setup-connection-with-ssh-config-file">Setup connection with ssh config file<a class="headerlink" href="#setup-connection-with-ssh-config-file" title="Permanent link">Link</a></h4>
<p>Add a new entry in your <code>.ssh/config</code> with the following content:
<div class="highlight"><pre><span></span><code>Host tunnel
    Hostname server-with-public-ip
    [port srv-ssh-port]
    user user

Host romi-device                                                      
    Hostname localhost
    port port-s
    user user
    ProxyJump tunnel   
</code></pre></div>
This will allow you to simply do <code>ssh romi-device</code> to log in your device.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      The ROMI project has received funding from the European Communitys H2020 Programme under Grant Agreement No. 773875.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/ROMI_EU_PROJECT" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9L389.2 48zm-24.8 373.8h39.1L151.1 88h-42l255.3 333.8z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.facebook.com/ROMIEUProject" target="_blank" rel="noopener" title="www.facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/romi/plantdb" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://hub.docker.com/repositories/roboticsmicrofarms" target="_blank" rel="noopener" title="hub.docker.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="https://buttons.github.io/buttons.js"></script>
      
    
  </body>
</html>